{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sara\\\\e-commerce-app\\\\e-commerce-app\\\\src\\\\composants\\\\Products.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport styled from 'styled-components';\nimport { ProductPopulaire } from \"../data\";\nimport ProductsItem from './ProductsItem';\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Container = styled.div`\npadding: 20px;\ndisplay: flex;\nflex-wrap: wrap;\njustify-content: space-between;\n`;\n_c = Container;\nexport default function Products(_ref) {\n  _s();\n\n  let {\n    categorie,\n    filtre,\n    sort\n  } = _ref;\n  const [produits, setProduits] = useState([]);\n  const [produitsFiltrer, setproduitsFiltrer] = useState([]);\n  console.log({\n    categorie,\n    filtre,\n    sort\n  });\n  useEffect(() => {\n    const getProduits = async () => {\n      try {\n        const res = await axios.get(categorie ? `http://localhost:8080/api/products?category=${categorie}` : `http://localhost:8080/api/products`);\n        setProduits(res.data);\n      } catch (err) {\n        console.log(\"erreur\");\n      }\n    };\n\n    getProduits();\n  }, [categorie]);\n  useEffect(() => {\n    categorie && setproduitsFiltrer(produits.filter(items => Object.entries(filtre).every(_ref2 => {\n      let [key, value] = _ref2;\n      return items[key].includes(value);\n    })));\n  }, [produits, categorie, filtre]);\n  useEffect(() => {\n    if (sort === \"les plus récents\") {\n      setproduitsFiltrer(prev => [...prev].sort((a, b) => a.createdAt - b.createdAt));\n    } else if (sort === \"Pbe\") {\n      setproduitsFiltrer(prev => [...prev].sort((a, b) => a.price - b.price));\n    } else {\n      setproduitsFiltrer(prev => [...prev].sort((a, b) => b.price - a.price));\n    }\n  }, [sort]);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: categorie ? produitsFiltrer.map(item => /*#__PURE__*/_jsxDEV(ProductsItem, {\n      item: item\n    }, item.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 41\n    }, this)) : produits.slice(0, 8).map(item => /*#__PURE__*/_jsxDEV(ProductsItem, {\n      item: item\n    }, item.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 28\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Products, \"cv8TO2+Hwu12utqttSaF6fQQ2Mw=\");\n\n_c2 = Products;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"Products\");","map":{"version":3,"sources":["C:/Users/Sara/e-commerce-app/e-commerce-app/src/composants/Products.js"],"names":["React","styled","ProductPopulaire","ProductsItem","useState","useEffect","axios","Container","div","Products","categorie","filtre","sort","produits","setProduits","produitsFiltrer","setproduitsFiltrer","console","log","getProduits","res","get","data","err","filter","items","Object","entries","every","key","value","includes","prev","a","b","createdAt","price","map","item","id","slice"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAAQC,gBAAR,QAA+B,SAA/B;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,SAASC,QAAT,EAAoBC,SAApB,QAAoC,OAApC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,SAAS,GAAGN,MAAM,CAACO,GAAI;AAC7B;AACA;AACA;AACA;AACA,CALA;KAAMD,S;AAON,eAAe,SAASE,QAAT,OAA+C;AAAA;;AAAA,MAA7B;AAAEC,IAAAA,SAAF;AAAaC,IAAAA,MAAb;AAAqBC,IAAAA;AAArB,GAA6B;AAC1D,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BV,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACW,eAAD,EAAkBC,kBAAlB,IAAwCZ,QAAQ,CAAC,EAAD,CAAtD;AACDa,EAAAA,OAAO,CAACC,GAAR,CAAY;AAAER,IAAAA,SAAF;AAAaC,IAAAA,MAAb;AAAqBC,IAAAA;AAArB,GAAZ;AAECP,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMc,WAAW,GAAG,YAAY;AAC9B,UAAI;AACF,cAAMC,GAAG,GAAG,MAAMd,KAAK,CAACe,GAAN,CAAWX,SAAS,GACnC,+CAA8CA,SAAU,EADrB,GAElC,oCAFc,CAAlB;AAGAI,QAAAA,WAAW,CAACM,GAAG,CAACE,IAAL,CAAX;AACD,OALD,CAKE,OAAOC,GAAP,EAAY;AAACN,QAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AAAsB;AACtC,KAPD;;AAQAC,IAAAA,WAAW;AACZ,GAVQ,EAUN,CAACT,SAAD,CAVM,CAAT;AAYAL,EAAAA,SAAS,CAAC,MAAM;AACdK,IAAAA,SAAS,IAAKM,kBAAkB,CAC9BH,QAAQ,CAACW,MAAT,CAAiBC,KAAD,IACZC,MAAM,CAACC,OAAP,CAAehB,MAAf,EAAuBiB,KAAvB,CAA6B;AAAA,UAAC,CAACC,GAAD,EAAMC,KAAN,CAAD;AAAA,aAC3BL,KAAK,CAACI,GAAD,CAAL,CAAWE,QAAX,CAAoBD,KAApB,CAD2B;AAAA,KAA7B,CADJ,CAD8B,CAAhC;AAOD,GARQ,EAQN,CAACjB,QAAD,EAAWH,SAAX,EAAsBC,MAAtB,CARM,CAAT;AAUAN,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIO,IAAI,KAAK,kBAAb,EAAiC;AAC/BI,MAAAA,kBAAkB,CAAEgB,IAAD,IACjB,CAAC,GAAGA,IAAJ,EAAUpB,IAAV,CAAe,CAACqB,CAAD,EAAIC,CAAJ,KAAUD,CAAC,CAACE,SAAF,GAAcD,CAAC,CAACC,SAAzC,CADgB,CAAlB;AAGD,KAJD,MAIO,IAAIvB,IAAI,KAAK,KAAb,EAAoB;AACzBI,MAAAA,kBAAkB,CAAEgB,IAAD,IACjB,CAAC,GAAGA,IAAJ,EAAUpB,IAAV,CAAe,CAACqB,CAAD,EAAIC,CAAJ,KAAUD,CAAC,CAACG,KAAF,GAAUF,CAAC,CAACE,KAArC,CADgB,CAAlB;AAGD,KAJM,MAIA;AACLpB,MAAAA,kBAAkB,CAAEgB,IAAD,IACjB,CAAC,GAAGA,IAAJ,EAAUpB,IAAV,CAAe,CAACqB,CAAD,EAAIC,CAAJ,KAAUA,CAAC,CAACE,KAAF,GAAUH,CAAC,CAACG,KAArC,CADgB,CAAlB;AAGD;AACF,GAdQ,EAcN,CAACxB,IAAD,CAdM,CAAT;AAiBF,sBACE,QAAC,SAAD;AAAA,cACKF,SAAS,GACRK,eAAe,CAACsB,GAAhB,CAAqBC,IAAD,iBAAU,QAAC,YAAD;AAAc,MAAA,IAAI,EAAEA;AAApB,OAA+BA,IAAI,CAACC,EAApC;AAAA;AAAA;AAAA;AAAA,YAA9B,CADQ,GAER1B,QAAQ,CACL2B,KADH,CACS,CADT,EACY,CADZ,EAEGH,GAFH,CAEQC,IAAD,iBAAU,QAAC,YAAD;AAAc,MAAA,IAAI,EAAEA;AAApB,OAA+BA,IAAI,CAACC,EAApC;AAAA;AAAA;AAAA;AAAA,YAFjB;AAHN;AAAA;AAAA;AAAA;AAAA,UADF;AASD;;GArDuB9B,Q;;MAAAA,Q","sourcesContent":["import React from 'react'\r\nimport styled from 'styled-components'\r\nimport {ProductPopulaire} from \"../data\"\r\nimport ProductsItem from './ProductsItem'\r\nimport { useState , useEffect} from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst Container = styled.div`\r\npadding: 20px;\r\ndisplay: flex;\r\nflex-wrap: wrap;\r\njustify-content: space-between;\r\n`\r\n\r\nexport default function Products({ categorie, filtre, sort }) {\r\n    const [produits, setProduits] = useState([]);\r\n    const [produitsFiltrer, setproduitsFiltrer] = useState([]);\r\n   console.log({ categorie, filtre, sort });\r\n\r\n    useEffect(() => {\r\n      const getProduits = async () => {\r\n        try {\r\n          const res = await axios.get( categorie ? \r\n            `http://localhost:8080/api/products?category=${categorie}`\r\n            :`http://localhost:8080/api/products`);\r\n          setProduits(res.data);\r\n        } catch (err) {console.log(\"erreur\")}\r\n      };\r\n      getProduits();\r\n    }, [categorie]);\r\n\r\n    useEffect(() => {\r\n      categorie &&  setproduitsFiltrer(\r\n        produits.filter((items) =>\r\n            Object.entries(filtre).every(([key, value]) =>\r\n              items[key].includes(value)\r\n            )\r\n          )\r\n        );\r\n    }, [produits, categorie, filtre]);\r\n\r\n    useEffect(() => {\r\n      if (sort === \"les plus récents\") {\r\n        setproduitsFiltrer((prev) =>\r\n          [...prev].sort((a, b) => a.createdAt - b.createdAt)\r\n        );\r\n      } else if (sort === \"Pbe\") {\r\n        setproduitsFiltrer((prev) =>\r\n          [...prev].sort((a, b) => a.price - b.price)\r\n        );\r\n      } else {\r\n        setproduitsFiltrer((prev) =>\r\n          [...prev].sort((a, b) => b.price - a.price)\r\n        );\r\n      }\r\n    }, [sort]);\r\n\r\n\r\n  return (\r\n    <Container>\r\n        {categorie\r\n        ? produitsFiltrer.map((item) => <ProductsItem item={item} key={item.id} />)\r\n        : produits\r\n            .slice(0, 8)\r\n            .map((item) => <ProductsItem item={item} key={item.id} />)}\r\n    </Container>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}